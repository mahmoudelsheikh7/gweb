<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>M4S Gallery</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
    }

    body {
      background: linear-gradient(135deg, #000000, #1c1c1c);
      color: white;
      overflow-x: hidden;
      min-height: 100vh;
      position: relative;
    }

    #bg-canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      background: radial-gradient(circle, rgba(0,0,0,0.9) 0%, rgba(0,0,0,1) 100%);
    }

    .hero {
      height: 100vh;
      background: radial-gradient(circle, rgba(255,255,255,0.05) 0%, rgba(0,0,0,1) 80%);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 20px;
      animation: fadeIn 2s ease;
      z-index: 1;
      position: relative;
    }

    @keyframes fadeIn {
      from {opacity: 0;}
      to {opacity: 1;}
    }

    .hero h1 {
      font-size: 4rem;
      margin-bottom: 20px;
      letter-spacing: 2px;
      text-shadow: 0 0 10px rgba(255,255,255,0.2);
    }

    .hero p#daily-quote {
      margin: 20px 0;
      font-size: 1.2rem;
      opacity: 0.8;
    }

    .buttons {
      display: flex;
      gap: 20px;
      margin-top: 30px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .buttons button {
      background: rgba(255,255,255,0.1);
      border: 2px solid white;
      padding: 12px 25px;
      color: white;
      cursor: pointer;
      font-size: 1rem;
      border-radius: 50px;
      transition: 0.4s ease;
      backdrop-filter: blur(5px);
    }

    .buttons button:hover {
      background: white;
      color: black;
      transform: scale(1.1);
    }

    section {
      padding: 60px 20px;
      display: none;
      text-align: center;
      min-height: 100vh;
    }

    section.active {
      display: block;
      animation: fadeIn 1.5s ease;
    }

    .media-container {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 25px;
      margin-top: 40px;
    }

    .media-item {
      border: 4px solid;
      border-radius: 15px;
      padding: 10px;
      transition: border-color 0.5s, transform 0.5s;
      background: rgba(255,255,255,0.05);
      backdrop-filter: blur(3px);
    }

    .media-item:hover {
      transform: scale(1.05);
    }

    .media-item img, .media-item video {
      width: 100%;
      height: auto;
      border-radius: 10px;
      display: block;
    }

    footer {
      margin-top: 50px;
      text-align: center;
      padding: 20px;
      background: rgba(0, 0, 0, 0.9);
    }

    footer a {
      color: white;
      margin: 0 12px;
      font-size: 1.7rem;
      text-decoration: none;
      transition: color 0.3s;
    }

    footer a:hover {
      color: #ccc;
    }
  </style>
</head>
<body>

  <canvas id="bg-canvas"></canvas>

  <div class="hero">
    <h1>M4S</h1>
    <p id="daily-quote">Ø¬Ù…Ù„Ø© Ø§Ù„ÙŠÙˆÙ…...</p>
    <div class="buttons">
      <button onclick="showSection('photos')">ğŸ“¸ Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±</button>
      <button onclick="showSection('videos')">ğŸ¥ Ø¹Ø±Ø¶ Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª</button>
    </div>
  </div>

  <section id="photos">
    <h2>ğŸ“¸ Ù…Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±</h2>
    <div class="media-container" id="photo-gallery"></div>
  </section>

  <section id="videos">
    <h2>ğŸ¥ Ù…Ø¹Ø±Ø¶ Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª</h2>
    <div class="media-container" id="video-gallery"></div>
  </section>

  <footer>
    <a href="#">GitHub</a>
    <a href="#">Instagram</a>
    <a href="#">Twitter</a>
    <a href="#">LinkedIn</a>
  </footer>

  <script>
    function showSection(id) {
      document.querySelectorAll('section').forEach(sec => sec.classList.remove('active'));
      document.getElementById(id).classList.add('active');
      window.scrollTo(0, document.getElementById(id).offsetTop);
    }

    const photoGallery = document.getElementById('photo-gallery');
    const videoGallery = document.getElementById('video-gallery');

    const photoFiles = ['photo1.jpg', 'photo2.jpg', 'photo3.jpg'];
    const videoFiles = ['video1.mp4', 'video2.mp4'];

    photoFiles.forEach(file => {
      const div = document.createElement('div');
      div.className = 'media-item';
      const img = document.createElement('img');
      img.src = `/gweb/images/${file}`;
      img.onload = function() {
        const color = getAverageColor(img);
        div.style.borderColor = color;
      };
      div.appendChild(img);
      photoGallery.appendChild(div);
    });

    videoFiles.forEach(file => {
      const div = document.createElement('div');
      div.className = 'media-item';
      const video = document.createElement('video');
      video.src = `/gweb/videos/${file}`;
      video.controls = true;
      div.appendChild(video);
      videoGallery.appendChild(div);
    });

    function getAverageColor(img) {
      const canvas = document.createElement('canvas');
      const context = canvas.getContext('2d');
      canvas.width = img.naturalWidth;
      canvas.height = img.naturalHeight;
      context.drawImage(img, 0, 0);

      const data = context.getImageData(0, 0, canvas.width, canvas.height).data;
      let r = 0, g = 0, b = 0;

      for (let i = 0; i < data.length; i += 4) {
        r += data[i];
        g += data[i + 1];
        b += data[i + 2];
      }

      r = Math.floor(r / (data.length / 4));
      g = Math.floor(g / (data.length / 4));
      b = Math.floor(b / (data.length / 4));

      return `rgb(${r},${g},${b})`;
    }

    async function loadDailyQuote() {
      try {
        const res = await fetch('/gweb/quotes.txt');
        const text = await res.text();
        const lines = text.split('\n').filter(line => line.trim() !== '');
        const today = new Date().getDate() % lines.length;
        document.getElementById('daily-quote').innerText = lines[today];
      } catch (e) {
        console.error('Ù„Ù… ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¬Ù…Ù„:', e);
      }
    }
    loadDailyQuote();

    // ØªØ£Ø«ÙŠØ± Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ø³Ø­Ø±ÙŠØ© Ø§Ù„Ø¶Ø¨Ø§Ø¨ÙŠØ©
    const canvasBG = document.getElementById('bg-canvas');
    const ctx = canvasBG.getContext('2d');
    let width, height, particles = [];

    function resizeCanvas() {
      width = window.innerWidth;
      height = window.innerHeight;
      canvasBG.width = width;
      canvasBG.height = height;
    }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    const mouse = { x: width / 2, y: height / 2 };
    window.addEventListener('mousemove', (e) => {
      mouse.x = e.clientX;
      mouse.y = e.clientY;
    });

    class Particle {
      constructor() {
        this.reset();
      }
      reset() {
        this.x = Math.random() * width;
        this.y = Math.random() * height;
        this.size = Math.random() * 2 + 1;
        this.speedX = (Math.random() - 0.5) * 0.5;
        this.speedY = (Math.random() - 0.5) * 0.5;
      }
      update() {
        this.x += this.speedX;
        this.y += this.speedY;
        if (this.x < 0 || this.x > width || this.y < 0 || this.y > height) {
          this.reset();
        }
      }
      draw() {
        const distance = Math.hypot(this.x - mouse.x, this.y - mouse.y);
        const opacity = Math.max(0, 1 - distance / 200);
        ctx.fillStyle = `rgba(255,255,255,${opacity * 0.2})`;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
        ctx.fill();
      }
    }

    function initParticles(num) {
      particles = [];
      for (let i = 0; i < num; i++) {
        particles.push(new Particle());
      }
    }

    function animateParticles() {
      ctx.clearRect(0, 0, width, height);
      particles.forEach(p => {
        p.update();
        p.draw();
      });
      requestAnimationFrame(animateParticles);
    }

    initParticles(100);
    animateParticles();
  </script>

</body>
</html>
